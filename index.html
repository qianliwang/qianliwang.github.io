<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Watson</title>
  <meta name="author" content="Sen Wang">
  
  <meta name="description" content="All Science is Computer Science">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Watson"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Watson" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Watson</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/">Wiki</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-10-17T04:21:40.000Z"><a href="/2016/10/17/git-command/">2016-10-17</a></time>
      
      
  
    <h1 class="title"><a href="/2016/10/17/git-command/">Git Commands</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Well, just a Git command summary. </p>
<h2 id="Global_Configuration"><a href="#Global_Configuration" class="headerlink" title="Global Configuration"></a>Global Configuration</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global --list</span><br><span class="line">git config --global --edit</span><br></pre></td></tr></table></figure>
<h3 id="To_view_the_config_of_git"><a href="#To_view_the_config_of_git" class="headerlink" title="To view the config of git"></a>To view the config of git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --list</span><br><span class="line">git config user.email</span><br><span class="line">git config user.name</span><br></pre></td></tr></table></figure>
<h3 id="To_set_up_the_user-email"><a href="#To_set_up_the_user-email" class="headerlink" title="To set up the user.email"></a>To set up the user.email</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config user.email <span class="string">"abc@abc.com"</span> //same to the user.name</span><br></pre></td></tr></table></figure>
<h2 id="Commands"><a href="#Commands" class="headerlink" title="Commands"></a>Commands</h2><h3 id="Git_command_syntax"><a href="#Git_command_syntax" class="headerlink" title="Git command syntax"></a>Git command syntax</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git [switches] &lt;<span class="built_in">command</span>&gt; [&lt;args&gt;]</span><br><span class="line"></span><br><span class="line">git --version // --version is a switch</span><br><span class="line">git -p config --global user.name <span class="string">"abc"</span> //-p is a switch</span><br></pre></td></tr></table></figure>
<h3 id="Git_process"><a href="#Git_process" class="headerlink" title="Git process"></a>Git process</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">git add display.html</span><br><span class="line">git commit -m <span class="string">"Adding the display.html"</span></span><br><span class="line">git status</span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line">git <span class="built_in">log</span> --stat // --stat, to see the files that are part of a commit</span><br><span class="line"></span><br><span class="line">git ls-files</span><br></pre></td></tr></table></figure>
<h3 id="To_update_and_change_files"><a href="#To_update_and_change_files" class="headerlink" title="To update and change files"></a>To update and change files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit <span class="operator">-a</span> -m <span class="string">"Adding one line in display.html"</span></span><br></pre></td></tr></table></figure>
<p>equivalent to</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add <span class="string">"display.html"</span></span><br><span class="line">git commit -m <span class="string">"Adding one line in display.html"</span> </span><br><span class="line">git commit --amend // you can amend your commit.</span><br></pre></td></tr></table></figure>
<p>The <code>-a</code> switch to git commit says to automatically stage (run git add) any files that Git knows about. The reason we still need to “add” the file is the STAGING feature of Git. <code>git add</code> pushes the file to a staged area, but not yet commit. The version in the staging area is what will be committed when you run git commit.</p>
<p><code>git add</code> does take a directory name that will add all the files in that directory (including the untracked ones).<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add --dry-run .</span><br></pre></td></tr></table></figure></p>
<p>“dot” for the current directory. It does a dry run, showing you what it would have done, <strong>NOTE</strong>, a preview of what is going to happen.</p>
<h3 id="To_view_the_difference"><a href="#To_view_the_difference" class="headerlink" title="To view the difference"></a>To view the difference</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff</span><br></pre></td></tr></table></figure>
<p>The copy of the file in the working directory vs. the copy of the file in the staging area.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --staged</span><br></pre></td></tr></table></figure></p>
<p>The copy of files that you committed earlier vs. the version of the file that you staged(via git add)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff master...dev</span><br></pre></td></tr></table></figure>
<p>It checks the difference between two branches. The order of branches to the git diff command is significant, master is listed first, and bugfix is listed second. Remembering the highway analogy, bugfix (the on-ramp) will merge onto master (the highway).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff --name-status master...bugfix // Display the the information of the files being merged, should be useful <span class="keyword">while</span> multiple files are merging</span><br></pre></td></tr></table></figure>
<h3 id="To_view_the_git_history"><a href="#To_view_the_git_history" class="headerlink" title="To view the git history"></a>To view the git history</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline // --oneline a compact listing of the Git output log.</span><br><span class="line">git <span class="built_in">log</span> --shortstat --oneline </span><br><span class="line">git <span class="built_in">log</span> --parents --abbrev-commit  </span><br><span class="line">git <span class="built_in">log</span> --patch</span><br><span class="line">git <span class="built_in">log</span> --stat</span><br><span class="line">git <span class="built_in">log</span> --patch-with-stat</span><br><span class="line">git <span class="built_in">log</span> --oneline math.sh  //This lists all the commits that touch math.sh</span><br><span class="line">git <span class="built_in">log</span> --graph --decorate --pretty=oneline --all --abbrev-commit</span><br></pre></td></tr></table></figure>
<h3 id="To_remove_the_file_from_the_staging_area_of_Git"><a href="#To_remove_the_file_from_the_staging_area_of_Git" class="headerlink" title="To remove the file from the staging area of Git"></a>To remove the file from the staging area of Git</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm <span class="string">"toRemove.txt"</span></span><br></pre></td></tr></table></figure>
<p>Shortcut to remove “toRemove.txt” from the staging area as well as the working directory. Or you can remove it from the working directory first, then remove it from the repository. </p>
<h3 id="To_rename_the_file"><a href="#To_rename_the_file" class="headerlink" title="To rename the file"></a>To rename the file</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git mv</span><br></pre></td></tr></table></figure>
<h3 id="To_add_parts_change_of_a_part_2C_using"><a href="#To_add_parts_change_of_a_part_2C_using" class="headerlink" title="To add parts change of a part, using"></a>To add parts change of a part, using</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -p</span><br></pre></td></tr></table></figure>
<p>Then it prompts a command line editor. </p>
<h3 id="Reset_Command"><a href="#Reset_Command" class="headerlink" title="Reset Command"></a>Reset Command</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset math.sh</span><br></pre></td></tr></table></figure>
<p>The edits that you added to the staging area are removed. More important, the working directory is untouched</p>
<h3 id="Git_checkout"><a href="#Git_checkout" class="headerlink" title="Git checkout"></a>Git checkout</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- math.sh</span><br></pre></td></tr></table></figure>
<p>When you check out a file in this manner, you overwrite the file in the working directory<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout --patch dev FaceDetector.java</span><br></pre></td></tr></table></figure></p>
<p>Check out files from another branch</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout abcdefg // go back to the commit abcdefg, time travel back</span><br><span class="line">git checkout master // go back to present</span><br></pre></td></tr></table></figure>
<h3 id="Git_rev-parse"><a href="#Git_rev-parse" class="headerlink" title="Git rev-parse"></a>Git rev-parse</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rev-parse HEAD</span><br><span class="line">git rev-parse master</span><br></pre></td></tr></table></figure>
<p>Both commands produce the same output: the SHA1 ID of the latest commit.</p>
<h2 id="Git_Tag"><a href="#Git_Tag" class="headerlink" title="Git Tag"></a>Git Tag</h2><p>You normally use git tag immediately after git commit.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git tag // show all tags</span><br><span class="line">git tag first_commit_trial -m <span class="string">"The first commit"</span> YOUR_SHA1ID // To add tag to the specific commit YOUR_SHA1ID. </span><br><span class="line">git show first_commit_trial // Display the information about the tag <span class="string">"fist_commit_trial"</span>.</span><br></pre></td></tr></table></figure></p>
<h3 id="Git_Branchs"><a href="#Git_Branchs" class="headerlink" title="Git Branchs"></a>Git Branchs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git branch // list all branches</span><br><span class="line">git branch dev // create a new branch, dev</span><br><span class="line">git checkout dev // check out means changing the working directory to reflect the contents of  the branch</span><br><span class="line">git branch <span class="operator">-d</span> master // <span class="operator">-d</span> switch to delete the master branch.</span><br><span class="line">git branch -v //The -v switch displays the SHA1 ID of the tips of these</span><br><span class="line"> branches. </span><br><span class="line">git branch fixing_readme YOUR_SHA1ID // Create a branch based on the YOUR_SHA1ID</span><br></pre></td></tr></table></figure>
<p>To switch branches.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout fixing_readme // Switch to the fixing_readme branch</span><br><span class="line">git checkout -b another_fix_branch fixing_readme //Using git checkout’s -b switch, you can create a branch and check it out <span class="keyword">in</span> one step.</span><br></pre></td></tr></table></figure></p>
<p>To delete and re-create branches.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git branch <span class="operator">-d</span> another_fix_branch</span><br><span class="line">Deleted branch another_fix_branch (was d6cc762). //<span class="keyword">if</span> you want to re-create the branch, just typing:</span><br><span class="line">git checkout -b another_fix_branch d6cc762 //confirming the branch is back by typing: git <span class="built_in">log</span></span><br><span class="line">//If <span class="keyword">for</span> some reason you don’t have the SHA1 ID, you can resort to git reflog.</span><br><span class="line">git reflog</span><br></pre></td></tr></table></figure>
<h3 id="Git_Stash"><a href="#Git_Stash" class="headerlink" title="Git Stash"></a>Git Stash</h3><p>Git does have a facility for putting aside your work temporarily: the git stash command. You can use this to save all your work temporarily, leaving you with a clean working directory.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br><span class="line">git stash list // List works <span class="keyword">in</span> progress that you’ve stashed away.</span><br><span class="line">git stash pop //To reapply this work to your current branch.</span><br></pre></td></tr></table></figure></p>
<h3 id="Git_Merge"><a href="#Git_Merge" class="headerlink" title="Git Merge"></a>Git Merge</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git checkout master // checkout master as the current working directory.</span><br><span class="line">git merge bugfix // Merge bugfix into master.</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> -<span class="number">1</span> //  -<span class="number">1</span>, number one, not char <span class="string">"l"</span>.</span><br><span class="line"></span><br><span class="line">git merge --abort // To stop a merging, but might not be that helpful.</span><br><span class="line">git merge-base BRANCH1 BRANCH2</span><br></pre></td></tr></table></figure>
<h3 id="Git_Clone"><a href="#Git_Clone" class="headerlink" title="Git Clone"></a>Git Clone</h3><p>The copy created with “git clone” is linked to the original and can send and receive changes back to the original. When you clone a repository, the only branch that appears in the clone is the active branch (the one HEAD points to) from the original repository.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --bare // Creates a Git repository that consists of just this bare directory</span><br></pre></td></tr></table></figure></p>
<p>You can’t perform any Git operations within the math.git directory, because there’s no working directory. But you can clone this math.git directory and push commits to it. A bare directory is that it has no reference to the original repository. The only way to update it is to push to it, and the only way to retrieve its contents is to clone, or pull, from it. I guess the project directory might be just a “bare directory”.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --bare math math.git</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> --no-single-branch -depth <span class="number">1</span> // Enables you to produce a repository that consists of only one commit <span class="keyword">for</span> all the branches <span class="keyword">in</span> your repository.</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git ls-tree HEAD // list the fils <span class="keyword">in</span> HEAD <span class="keyword">in</span> a tree-like style.</span><br></pre></td></tr></table></figure>
<h3 id="Git_Remote"><a href="#Git_Remote" class="headerlink" title="Git Remote"></a>Git Remote</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git remote // The simplest form of the git remote <span class="built_in">command</span> shows only the name of the remote.</span><br><span class="line">git remote -v show // It shows the remote URL. </span><br><span class="line">git remote rename origin beginning // It renames the remote from origin to beginning.</span><br><span class="line">git remote add bob ../math.bob //This creates a new remote called bob, using git remote and <span class="string">"git remote -v show"</span> to view it. </span><br><span class="line">git ls-remote //This <span class="built_in">command</span> returns a list of the SHA1 IDs of each branch and tag (each reference) on the remote repository.</span><br><span class="line"></span><br><span class="line">git remote remove </span><br><span class="line">git remote <span class="built_in">set</span>-url</span><br></pre></td></tr></table></figure>
<h3 id="Git_Push_and_Pull"><a href="#Git_Push_and_Pull" class="headerlink" title="Git Push and Pull"></a>Git Push and Pull</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git push origin master // Push the branch <span class="string">"master"</span> to remote <span class="string">"origin"</span>.</span><br><span class="line">git remote –v show origin // Show the remote <span class="string">"origin"</span> information.</span><br><span class="line">git push --force // blindly change the remote repo</span><br><span class="line">git push --set-upstream origin new_branch // push the newly created <span class="string">"new_branch"</span> to the remote <span class="string">"origin"</span>, since upstream branch <span class="keyword">in</span> the remote, we use the <span class="string">"--set-upstream"</span> switch. </span><br><span class="line">git push origin :new_branch // To delete a branch <span class="keyword">in</span> remote <span class="string">"origin"</span>, notice the colon before the <span class="string">"new_branch"</span>.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin src:dest</span><br></pre></td></tr></table></figure>
<p>When you omit the src from the full form, you are telling Git to delete the branch. <code>git push origin master</code> is equivalent to <code>git push origin master:master</code>.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push origin TAGNAME // Push the tag named TAGNAME to the remote named origin. </span><br><span class="line">git push --tags // Push all tags to the default remote </span><br><span class="line">git push origin :TAGNAME // Delete the tag named TAGNAME on the remote named origin.</span><br></pre></td></tr></table></figure></p>
<p><code>git pull</code> consists of two commends: <code>git fetch</code> and <code>git merge</code>.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git pull --ff-only // This prevents Git from doing any automated work, unless it’s a fast-forward merge.</span><br><span class="line">git <span class="built_in">log</span> --merges // display the merge operation <span class="keyword">in</span> log.</span><br><span class="line">git <span class="built_in">log</span> --oneline readme.txt // <span class="built_in">limit</span> the Git output the commits that affected <span class="string">"readme.txt"</span></span><br><span class="line">git <span class="built_in">log</span> --grep=change // Display all commits that contain word <span class="string">"change"</span> <span class="keyword">in</span> the message. </span><br><span class="line">git <span class="built_in">log</span> --since <span class="number">10</span>/<span class="number">10</span>/<span class="number">2014</span> --until <span class="number">10</span>/<span class="number">24</span>/<span class="number">2014</span> // Display the commits within a range.</span><br></pre></td></tr></table></figure></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git shortlog // An easy way to get the list of authors from a repository.</span><br><span class="line">git shortlog <span class="operator">-e</span> // To get the author list with email addresses. </span><br><span class="line">git <span class="built_in">log</span> --author=watson // Restrict the <span class="built_in">log</span> to one author.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --stat HEAD^..HEAD</span><br></pre></td></tr></table></figure>
<p>It displays the number of files that have changed between the most current commit (HEAD) and its immediate predecessor (HEAD^), <code>--stat</code> switch shows a list of files that have changed. Double-period specifies a revision range. Ranges specify a set of commits. In this case, the two commits are next to each other (HEAD^ is immediately before HEAD). </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --patch HEAD^..HEAD // <span class="string">"--patch"</span> shows the content that have changed.</span><br><span class="line">git branch --column // To display the branches <span class="keyword">in</span> columns.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git grep change // Looking <span class="keyword">for</span> files that contain word <span class="string">"change"</span>.</span><br></pre></td></tr></table></figure>
<h3 id="Git_rebase"><a href="#Git_rebase" class="headerlink" title="Git rebase"></a>Git rebase</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase master new_feature // Changing the starting point of the <span class="built_in">local</span> branch new_feature with a new commit of master(Remote one).</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase master // The commend indicates to rebase the current branch, <span class="built_in">which</span> is <span class="string">"new_feature"</span> <span class="keyword">in</span> the current scenario. The <span class="string">"rebase"</span> commend would also assign new SHA1 ID to the commits <span class="keyword">in</span> <span class="string">"new_feature"</span>.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure>
<p>This command accesses an internal list of every change to the HEAD, it lets you reference old SHA1 IDs that may no long exist. This is important, since <code>rebase</code> changes the SH1 ID of the branch that you are rebasing.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD@&#123;<span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure></p>
<p>The <code>--hard</code> switch resets both the staging area and the working directory. After typing this command, HEAD is moved back to the previous position.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git rebase --interactive master</span><br><span class="line">``` </span><br><span class="line"></span><br><span class="line">Interactively rebase your current branch with the latest commit from master. This opens an editor, allowing you to pick and choose <span class="built_in">which</span> commits will be included <span class="keyword">in</span> the rebase.</span><br><span class="line"></span><br><span class="line">```Bash</span><br><span class="line">git -c log.date=relative <span class="built_in">log</span> -n <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>This output shows the date using the relative date format. The behavior of the <code>git log</code> command changed, because you applied a new configuration via the -c switch of the git command. The <code>-c</code> switch is a fast way to override a configuration quickly. Remember, git <code>-c</code> is not the git config command!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --local --unset log.date</span><br></pre></td></tr></table></figure>
<p>It resets the log.date configuration permanently by unsetting its value. </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-10-13T04:19:02.788Z"><a href="/2016/10/13/hello-world/">2016-10-13</a></time>
      
      
  
    <h1 class="title"><a href="/2016/10/13/hello-world/">Hello World</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create_a_new_post"><a href="#Create_a_new_post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server"><a href="#Run_server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files"><a href="#Generate_static_files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites"><a href="#Deploy_to_remote_sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-02-03T03:46:45.000Z"><a href="/2016/02/02/Android-SSL-Socket-Communication/">2016-02-02</a></time>
      
      
  
    <h1 class="title"><a href="/2016/02/02/Android-SSL-Socket-Communication/">Android SSL Socket Communication</a></h1>
  

    </header>
    <div class="entry">
      
        <p>In the project, we need a SSL socket communication between Android and a Java server.<br>Here is some summaries,</p>
<ol>
<li>Basics of SSL protocol<br>SSL 1.0, never publicly released<br>SSL 2.0, 1995, deprecated in 2011<br>SSL 3.0, 1996, deprecated in June 2015<br>TLS 1.0, January, 1999, <strong>an upgrade of SSL 3.0</strong><br>TLS 1.1, April, 2006<br>TLS 1.2, August 2008<br>TLS 1.3, still draft in today, Feb 2,2016.</li>
</ol>
<p>The handshake between Client and Server works as follow:</p>
<ol>
<li>Client sends message <strong>ClientHello</strong>, initialize connection request.</li>
<li>Server sends message <strong>ServerHello</strong>, answer request.</li>
<li>Server exchange <strong>ServerKey</strong>, sends the public key.</li>
<li>Server <strong>HelloDone</strong>.</li>
<li>Client exchange <strong>ClientKey</strong>, creates a session private key using Server’s public key, sends the private key to Server.</li>
<li>Client change <strong>CipherSpec</strong>, informs Server to change the encryption algorithm.</li>
<li>Client finish.</li>
<li>Server change <strong>CipherSpec</strong>, confirms that the encryption algorithm changed.</li>
<li>Server finish.</li>
</ol>
<p>In the protocol above, only Client needs to verify the Server’s certificate, Server doesn’t need to verify the certificate of the Client, which is called <strong>One Way Handshake</strong>.</p>
<p>Next, we create the self-signed certificate, we use the <strong>keytool</strong> provided by Java, <strong>OpenSSL</strong> can also do this. </p>
<p>We have the following things to do:</p>
<ol>
<li>Create self-signed certificate on the server side.</li>
<li>Create client side(<strong>Android</strong>) keystore (BKS)</li>
<li>Export the certificate from the server.</li>
<li>Import the certificate to the Android.</li>
</ol>
<p>Note, <strong>One Way Handshake</strong> means only Client need to verify Server’s certificate. </p>
<p>1.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -v -alias serverKey -keyalg RSA -keystore ./server.ks -storetype JKS -storepass server -keypass <span class="number">1234</span></span><br></pre></td></tr></table></figure></p>
<p>2.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -alias androidKey -keyalg RSA -keystore ./client.bks -storetype BKS -providerclass org.bouncycastle.jce.provider.BouncyCastleProvider -providerpath /path/to/jar/bcprov-jdk16-<span class="number">1.53</span>.jar -storepass client -keypass <span class="number">4321</span></span><br></pre></td></tr></table></figure></p>
<p>Note, Android KeyStore use the BouncyCastle(<strong>BKS</strong>) format, which is different from the Jave platform(<strong>JKS</strong>), that’s why we indicate the <strong>-providerclass</strong> and <strong>-providerpath</strong>, and google for the latest <strong>.jar</strong>.</p>
<p>3.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -export -alias serverKey -keystore ./server_ks -file serverKey.cer -providerclass org.bouncycastle.jce.provider.BouncyCastleProvider -providerpath /path/to/jar/bcprov-jdk16-<span class="number">1.53</span>.jar</span><br></pre></td></tr></table></figure></p>
<p>Well, in case, we just indicate the <strong>-providerclass</strong> and <strong>-providerpath</strong> again. And the terminal may require the passcode of the keystore, use <strong>-storepass server</strong> in the first step. </p>
<p>4.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -import -alias serverKey -file serverKey.cer -keystore ./client.bks -storetype BKS -provider org.bouncycastle.jce.provider.BouncyCastleProvider -providerpath /path/to/jar/bcprov-jdk16-<span class="number">1.53</span>.jar</span><br></pre></td></tr></table></figure></p>
<p>Till here, we have done the preparation, next we need to programm it on the Android side and server side respectively.<br>In Android, there are two keystores, the one in the Android itself, the other one with the self-signed certificate, which we need to load into our App.<br>I first create a <code>KeyStore</code> instance and initialize the keystore with the self-signed certificate, <code>store.load(truststoreFile, &quot;314durham&quot;.toCharArray());</code>.<br>Next, I initialize the <code>TrustManagerFactory</code> using the KeyStore that sjust loaded.<br>Then, I create <code>SSLContext</code> and initialize it using the local KeyStore and the <code>TrustManagerFactory</code>. <code>context.init(keyManager.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());</code>.<br>From Oracle API document,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(KeyManager[] km,</span><br><span class="line">        TrustManager[] tm,</span><br><span class="line">        SecureRandom random)</span></span><br><span class="line">                <span class="keyword">throws</span> KeyManagementException</span><br><span class="line">				</span><br><span class="line">Parameters:</span><br><span class="line">km - the sources of authentication keys or <span class="keyword">null</span></span><br><span class="line">tm - the sources of peer authentication trust decisions or <span class="keyword">null</span></span><br><span class="line">random - the source of randomness <span class="keyword">for</span> <span class="keyword">this</span> generator or <span class="keyword">null</span></span></span><br></pre></td></tr></table></figure>
<p>In Android 4.4 and 5.0, <code>context.init(null, tmf.getTrustManagers(), new SecureRandom());</code> works, but in Android 6.0, the first parameter can’t be <code>null</code>, or there will be some <code>SSL Handshake</code> exceptions.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SSLSocket <span class="title">getSSLSocket</span><span class="params">(String ipAddr, <span class="keyword">int</span> portNum, String keystorePath, <span class="keyword">boolean</span> allowAllHosts)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//The KeyStore with the self-signed certificate.</span></span><br><span class="line">   InputStream truststoreFile = <span class="keyword">new</span> FileInputStream(keystorePath);</span><br><span class="line">   KeyStore store = KeyStore.getInstance(KeyStore.getDefaultType());</span><br><span class="line">   store.load(truststoreFile, <span class="string">"4321"</span>.toCharArray());</span><br><span class="line"></span><br><span class="line"><span class="comment">//The KeyManagerFactory that supposed to load the Android local //keystore, but here we just use the same keystore that has the //self-signed certificate.</span></span><br><span class="line">   KeyManagerFactory keyManager = KeyManagerFactory.getInstance(<span class="string">"X509"</span>);  </span><br><span class="line">   keyManager.init(store,<span class="string">"4321"</span>.toCharArray());  </span><br><span class="line"></span><br><span class="line"><span class="comment">//The TrustManagerFactory loads the keystore with the //self-signed certificate.</span></span><br><span class="line">   TrustManagerFactory tmf = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());</span><br><span class="line">   tmf.init(store);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Create an instance of SSLContext. </span></span><br><span class="line">   SSLContext context = SSLContext.getInstance(<span class="string">"TLS"</span>);</span><br><span class="line">   context.init(keyManager.getKeyManagers(), tmf.getTrustManagers(), <span class="keyword">new</span> SecureRandom());</span><br><span class="line"></span><br><span class="line">   <span class="comment">//Create the Socket using SSLContext.</span></span><br><span class="line">   Socket socket = (SSLSocket)context.getSocketFactory().createSocket(ipAddr, portNum);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> (SSLSocket) socket;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-02-02T04:28:08.000Z"><a href="/2016/02/01/Mac-OS-X-Apache-and-PHP-Setup/">2016-02-01</a></time>
      
      
  
    <h1 class="title"><a href="/2016/02/01/Mac-OS-X-Apache-and-PHP-Setup/">Mac OS X Apache and PHP Setup</a></h1>
  

    </header>
    <div class="entry">
      
        <p>To setup the Apache and PHP on OS X El Captain, thanks to this artile of <a href="https://ole.michelsen.dk/blog/setup-local-web-server-apache-php-osx-yosemite.html" target="_blank" rel="external">Ole Michelsen</a></p>
<p>In terminal,<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -v</span><br></pre></td></tr></table></figure></p>
<p>It would display the installed version of Apache, to start Apache<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apachectl start</span><br></pre></td></tr></table></figure></p>
<p>Open <code>http://localhost</code> in a browser, if everything works, a webpage<br>with text “It works” would display.</p>
<p>Next, create a <code>Sites</code> folder under the user folder,<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/Sites</span><br></pre></td></tr></table></figure></p>
<p>We need to create a new user config for Apache(The user config is actually already created when I go to the folder <code>/etc/apache2/users/</code>),<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apache2/users/Watson.config</span><br></pre></td></tr></table></figure></p>
<p>Paste the following config or modify the existed ones in the <code>Watson.config</code>(I didn’t dig into what these configs are used for),<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Directory <span class="string">"/Users/*/Sites/"</span>&gt;</span><br><span class="line">  Options Indexes MultiViews FollowSymLinks</span><br><span class="line">  AllowOverride All</span><br><span class="line">  Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure></p>
<p>Next, to enable the Apache using our own user directory to serve files, modify the <code>httpd.conf</code> file.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apache2/httpd.conf</span><br></pre></td></tr></table></figure></p>
<p>In vim, press <code>/</code> for searching and search for “userdir”, uncomment the following lines(remove the leading#),<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">LoadModule userdir_module libexec/apache2/mod_userdir.so</span><br><span class="line">LoadModule <span class="built_in">alias</span>_module libexec/apache2/mod_alias.so</span><br><span class="line">LoadModule rewrite_module libexec/apache2/mod_rewrite.so</span><br><span class="line">LoadModule php5_module libexec/apache2/libphp5.so</span><br></pre></td></tr></table></figure></p>
<p>And one more line to uncomment,<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Include /private/etc/apache2/extra/httpd-userdir.conf</span><br></pre></td></tr></table></figure></p>
<p>Note, from another post on <a href="http://stackoverflow.com/questions/8035939/write-privileges-localhost-mac-osx" target="_blank" rel="external">Stackoverflow</a><br>There is one more config in <code>httpd.conf</code>,<br>Change<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User _www</span><br><span class="line">Group _www</span><br></pre></td></tr></table></figure></p>
<p>To<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User Watson</span><br><span class="line">Group staff</span><br></pre></td></tr></table></figure></p>
<p>Next, modify the <code>httpd-userdir.conf</code> file,<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/apache2/extra/httpd-userdir.conf</span><br></pre></td></tr></table></figure></p>
<p>Uncomment the following line, then save the file.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Include /private/etc/apache2/users/*.conf</span><br></pre></td></tr></table></figure></p>
<p>Next, restart Apache,<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apachectl restart</span><br></pre></td></tr></table></figure></p>
<p>To test that PHP is working, create a PHP test file in your new user level web root (~/Sites),<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span> <span class="string">"&lt;?php phpinfo(); ?&gt;"</span> &gt; ~/Sites/phpinfo.php</span><br></pre></td></tr></table></figure></p>
<p>Open the <code>http://localhost/~Watson/phpinfo.php</code> in a browser to see if the configuration works.<br>If you want Apache to start up automatically after a restart, run the following command in the Terminal,</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo launchctl load -w /System/Library/LaunchDaemons/org.apache.httpd.plist</span><br></pre></td></tr></table></figure>
<p>The reason I install Apache and PHP is that I want a script to upload some images from a Java server. In the installation, the php code has some “write privileges” issue, then I found the solution from the stackoverflow.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2016-01-29T04:21:48.000Z"><a href="/2016/01/28/Mac-Opencv-3-1-0/">2016-01-28</a></time>
      
      
  
    <h1 class="title"><a href="/2016/01/28/Mac-Opencv-3-1-0/">Mac Opencv 3.1.0</a></h1>
  

    </header>
    <div class="entry">
      
        <p>So, the first post.<br>It is about installation of OpenCV 3.1.0 on the Mac OS X, El Captain. </p>
<p>I just repeat the same process when I install the 3.0.0:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install opencv3 --with-java --with-qt5</span><br></pre></td></tr></table></figure></p>
<p>Then I found the jar file in the<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/Cellar/opencv3/<span class="number">3.1</span>.<span class="number">0</span>_1/share/opencv/java/</span><br></pre></td></tr></table></figure></p>
<p>Then I created the new <code>User libraries</code> in the Eclipse,</p>
<p><em>Add the <code>jar</code> file.
</em>Select the same folder as the <code>native library path</code>.</p>
<p>Then I create a new project, test the code,<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.loadLibrary(Core.NATIVE_LIBRARY_NAME);</span><br></pre></td></tr></table></figure></p>
<p>Bang, the error pops up.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">"main"</span> java.lang.UnsatisfiedLinkError: no opencv_java310 in java.library.path</span><br></pre></td></tr></table></figure></p>
<p>Now below shows how I fix it, thanks to the <a href="http://cimadai.hateblo.jp/entry/opencv_sbt_scala" target="_blank" rel="external">Janpanse guy</a>,<br>basically, two steps,<br>1.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew reinstall opencv3 --with-java,--with-qt5,--with-contrib</span><br></pre></td></tr></table></figure></p>
<p>2.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/<span class="built_in">local</span>/Cellar/opencv3/<span class="number">3.1</span>.<span class="number">0</span>_1/share/opencv/java/libopencv_310.so /usr/<span class="built_in">local</span>/Cellar/opencv3/<span class="number">3.1</span>.<span class="number">0</span>_1/share/opencv/java/libopencv_310.dylib</span><br></pre></td></tr></table></figure></p>
<p>And then the <code>System.loadLibrary(Core.NATIVE_LIBRARY_NAME)</code> works good in Eclipse<br>I am not sure which step saved my day, the <code>--with-contrib</code> or <code>libopencv_310.dylib</code>.<br>But I guess that it might be something wrong with the <code>Homebrew</code>, I have report a problem on their forum, but didn’t see updates yet. </p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜尋">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2016 Sen Wang
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>